{% extends "base.html" %}

{% block content %}
    <div class="container-fluid bg-white mb-4 border-top border-bottom shadow">
        <div class="container">
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                            class="active"
                            aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                            aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                            aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"
                            aria-label="Slide 4"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="/static/99_web.png"
                             class="d-block w-100"
                             alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/accesso.png" class="d-block w-100"
                             alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/samsung_web.png"
                             class="d-block w-100"
                             alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="/static/samsung_tv.png" class="d-block w-100"
                             alt="...">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid bg-white mt-5 border-top border-bottom shadow">
        <div class="container">
            <div class="row row-cols-lg-4 row-cols-md-2 row-cols-sm-1 gy-3">
                {% for product in products %}
                    <div class="col">
                        <div class="card" style="width: 18rem;">
                            <div class="embed-responsive embed-responsive-16by9">
                                <img src="/static/{{ product.img }}"
                                     class="card-img-top embed-responsive-item"
                                     alt="...">
                            </div>
                            <div class="card-body">
                                <p class="card-title"> {{ product.name }} </p>
                                <h3 class="card-text">{{ product.price }}<sup>₾</sup></h3>
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <div class="input-group">
                                        <div class="input-group-text bg-warning">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                 fill="currentColor"
                                                 class="bi bi-cart-fill" viewBox="0 0 16 16">
                                                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                            </svg>
                                        </div>
                                        <a href="/product/{{ product.id }}" class="btn btn-warning px-3">
                                            კალათაში
                                        </a>
                                    </div>
                                </li>
                                {% if current_user.role == "admin" %}
                                <li class="list-group-item">
                                    <a href="/edit_product/{{ product.id }}" class="btn btn-outline-info">
                                        რედაქტირება
                                    </a>
                                </li>

                                <li class="list-group-item">
                                    <a href="/delete_product/{{ product.id }}" class="btn btn-danger">
                                        წაშლა
                                    </a>
                                </li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}